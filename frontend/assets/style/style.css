/* ===========================
   Theme & Base
   =========================== */
:root{
    --bg:#0b0c10;
    --panel:#1f2833;
    --panel-2:#1b1f23;
    --text:#c5c6c7;
    --muted:#9db1c7;
    --brand:#66fcf1;
    --brand-2:#45a29e;
    --danger:#d9534f;
    --border:#2a3340;
    --table-even:#1c1e22;
    --table-hover:#2c3e50;
    --input-bg:#c5c6c7;
    --input-text:#0b0c10;
}

*{ box-sizing:border-box }

body{
    font-family: Arial, sans-serif;
    background: var(--bg);
    color: var(--text);
    display:flex; flex-direction:column; align-items:center;
    padding:2rem;
}

h1{ color:var(--brand); margin:12px 0 2rem }

/* ===========================
   Common UI
   =========================== */
label{ display:block; margin-top:1rem; font-weight:bold }

input, select{
    width:100%;
    padding:.6rem .5rem;
    border:none; border-radius:5px;
    margin:.5rem 0 1rem;
    font-size:1rem;
    background:var(--input-bg);
    color:var(--input-text);
    font-weight:bold;
}
input:focus, select:focus{
    outline:none;
    box-shadow:0 0 8px var(--brand);
}

button{
    width:100%; margin-top:2rem; padding:.75rem;
    font-size:1rem; font-weight:bold;
    background:var(--brand-2); color:var(--bg);
    border:none; border-radius:6px; cursor:pointer;
    transition:background-color .2s ease, transform .05s ease;
}
button:hover{ background:var(--brand); color:var(--bg) }
button:active{ transform:scale(.98) }

/* Icons */
.fa-pen-to-square{ color:#1f78d1 }
.fa-trash{ color:var(--danger) }

/* FAB */
#addRouteBtn{
    position:fixed; bottom:2rem; right:2rem; z-index:1000;
    background:var(--brand-2); color:var(--bg);
    border:none; border-radius:50%;
    width:60px; height:60px; font-size:1.5rem;
    box-shadow:0 4px 8px rgba(0,0,0,.3);
    cursor:pointer; transition:background-color .2s ease;
}
#addRouteBtn:hover{ background:var(--brand) }

/* Home link */
.home-link{
    display:inline-flex; align-items:center; gap:6px;
    padding:6px 10px; background:#222; color:#fff;
    text-decoration:none; border-radius:6px; margin:12px 12px 0;
}
.home-link:hover{ background:#333 }

/* Arrows */
#arrow-down{ margin-top:20px }
#arrow-down-avatar{ margin-top:2rem }

/* ===========================
   Calculator Card
   =========================== */
.calculator{
    background:var(--panel);
    padding:2rem; border-radius:1rem;
    box-shadow:0 0 15px rgba(102,252,241,.2);
    max-width:500px; width:100%;
}

.result{ margin-top:1rem; font-size:1.2rem; font-weight:bold; color:var(--brand) }
.result p{ margin:.5rem 0; line-height:1.4 }

.calculator .info-box,
.pricing-box{
    background:var(--panel-2); color:#cfd2d6;
    padding:1rem; border-radius:12px;
    box-shadow:0 0 20px rgba(102,252,241,.1);
    font-size:.95rem; line-height:1.5;
}
.calculator .info-box{ border-radius:.5rem }
.calculator .info-box h3,
.pricing-box h3{ color:var(--brand); margin-bottom:1rem; font-size:1.2rem; font-weight:bold }

/* ===========================
   Tables (Admin/Provider)
   =========================== */
table{ margin:2rem auto; width:80%; border-collapse:collapse }
thead{ background:var(--panel) }
th, td{ padding:1rem; text-align:center }
tbody tr:nth-child(even){ background:var(--table-even) }
tbody tr:hover{ background:var(--table-hover) }

/* Admin variant */
table.admin{ width:calc(100% - 24px); margin:0 12px 12px }
table.admin th, table.admin td{ padding:.6rem .8rem; border-bottom:1px solid var(--border) }
table.admin th{ text-align:left; color:var(--muted); background:#1a222c }

table.admin select{
    background:#0f171f; color:#e6f1ff; border:1px solid var(--border);
    padding:.35rem .5rem; border-radius:6px;
}
button.save{
    padding:.35rem .6rem; border-radius:6px;
    border:1px solid var(--border);
    background:#13202a; color:#e6f1ff; cursor:pointer;
}
button.save:hover{ background:#162635 }

/* ===========================
   Route Form Card
   =========================== */
#routeFormContainer{
    background:var(--panel); padding:1rem; border-radius:8px;
    width:50%; margin:2rem auto;
}
#routeForm button{ width:100% }

/* ===========================
   Switch / Toggle
   =========================== */
.form-row.grid{
    display:grid; grid-template-columns:1fr auto;
    align-items:center; gap:1rem; margin:.75rem 0;
}
.form-row.grid .col.right{ justify-self:end }
@media (max-width:640px){
    .form-row.grid{ grid-template-columns:1fr; gap:.5rem }
    .form-row.grid .col.right{ justify-self:start }
}

.toggle{
    --switch-w:64px; --switch-h:34px; --switch-p:4px;
    display:inline-flex; align-items:center; gap:.75rem;
    cursor:pointer; user-select:none;
}
.toggle input{ position:absolute; opacity:0; width:1px; height:1px; overflow:hidden }
.toggle .slider{
    width:var(--switch-w); height:var(--switch-h); border-radius:999px;
    background:#2b2f36; box-shadow:inset 0 0 0 2px #1f2833;
    position:relative; transition:background .2s ease, box-shadow .2s ease;
}
.toggle .slider::before{
    content:""; position:absolute; top:var(--switch-p); left:var(--switch-p);
    width:calc(var(--switch-h) - 2*var(--switch-p));
    height:calc(var(--switch-h) - 2*var(--switch-p));
    border-radius:50%; background:#c5c6c7; transform:translateX(0);
    transition:transform .22s cubic-bezier(.2,.6,.2,1), background .2s, box-shadow .2s;
    box-shadow:0 2px 6px rgba(0,0,0,.35);
}
.toggle input:checked + .slider{
    background:#144d4a; box-shadow:inset 0 0 0 2px #0b3a38, 0 0 10px rgba(102,252,241,.18);
}
.toggle input:checked + .slider::before{
    transform:translateX(calc(var(--switch-w) - var(--switch-h)));
    background:var(--brand); box-shadow:0 0 12px rgba(102,252,241,.55);
}
.toggle input:focus-visible + .slider{ outline:2px solid var(--brand); outline-offset:4px }
.toggle .toggle-text{ font-size:.95rem; color:#e6f9f7; white-space:nowrap }

/* ===========================
   Misc
   =========================== */
#routeForm input:not([type="checkbox"]){ line-height:2.4rem }
.result strong{ color:#fff }

/* ==== User Menu (restore look) ==== */
.user-menu{ position:relative; display:inline-block }
.user-menu-toggle{
    display:flex; align-items:center; gap:.75rem;
    background:#1f2833; padding:.75rem 1rem;
    border-radius:8px; cursor:pointer;
}
.user-avatar{ width:48px; height:48px; border-radius:50%; object-fit:cover }
.user-name{ color:var(--brand); font-weight:bold; font-size:1rem; white-space:nowrap }
.user-dropdown{
    display:none; position:absolute; top:110%; right:0;
    background:#0b0c10; border:1px solid var(--brand-2);
    padding:.75rem; border-radius:8px;
    box-shadow:0 0 10px rgba(102,252,241,.2);
    min-width:200px; z-index:999; flex-direction:column;
}
.user-dropdown.open{ display:flex }
.user-dropdown a, .user-dropdown a:visited{
    color:#c5c6c7; text-decoration:none; margin-bottom:.5rem;
    font-weight:500; padding:.25rem .5rem; border-radius:4px;
}
.user-dropdown a:hover, .user-dropdown a:focus-visible{
    background:#1f2833; color:var(--brand); outline:none;
}
.user-menu-toggle .fa-chevron-down{ transition:transform .18s ease }
.user-dropdown.open ~ .user-menu-toggle .fa-chevron-down,
.user-menu.open .fa-chevron-down{ transform:rotate(180deg) }

/* ===========================
   Dark Select (Calculator only)
   =========================== */
.calculator .select-wrap{ position:relative }
.calculator .select-wrap select{
    appearance:none; -webkit-appearance:none; -moz-appearance:none;
    width:100%;
    background:#0f171f; color:#e6f1ff;
    border:1px solid var(--border);
    border-radius:8px;
    padding:.6rem 2.2rem .6rem .75rem; /* Platz für Pfeil */
    font-size:1rem; font-weight:600;
    outline:0;
    transition:border-color .2s ease, box-shadow .2s ease, background .2s ease;
}
.calculator .select-wrap select:hover{ background:#131d26 }
.calculator .select-wrap select:focus{
    border-color:var(--brand);
    box-shadow:0 0 0 3px rgba(102,252,241,.18);
}
.calculator .select-wrap select:disabled{ opacity:.6; cursor:not-allowed }

/* eigener Pfeil */
.calculator .select-wrap::after{
    content:"";
    position:absolute; right:.65rem; top:50%; transform:translateY(-50%);
    width:12px; height:12px; pointer-events:none;
    background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%2366fcf1' d='M7 10l5 5 5-5z'/></svg>");
    background-repeat:no-repeat; background-size:100% 100%;
    filter:drop-shadow(0 0 4px rgba(102,252,241,.25));
}

/* native Dropdown-Liste abdunkeln */
.calculator .select-wrap select option{
    background:#0f171f; color:#e6f1ff;
}
.calculator .select-wrap select option:checked,
.calculator .select-wrap select option:hover{
    background:#1a222c; color:var(--brand);
}

/* Fallback, falls mal kein Wrapper vorhanden ist */
.calculator select#route{
    appearance:none; -webkit-appearance:none; -moz-appearance:none;
    background:#0f171f !important; color:#e6f1ff !important;
    border:1px solid var(--border); border-radius:8px;
}

/* Guards: Controls nicht größer als Card */
.calculator input,
.calculator select,
.calculator .select-wrap{ max-width:100% }
